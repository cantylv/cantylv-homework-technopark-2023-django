<!--Copyright © 2023 tussan_pussan ivanlobanov515@gmail.com-->
{% load static %}


<!--Загрузим пользователя системы (временно)-->
{% load main_tags %}

<!--Навигационное меню в шапке страницы-->
{% if data_user.user.is_authenticated %}
    <div class="pt-2 big-screens">
        <ul class="nav">
            <li><a href="{% url 'home' %}" class="nav-link px-2">Home</a></li>
            <li><a href="{% url 'ask' %}" class="nav-link px-2">Ask</a></li>
            <li><a href="{% url 'profile' username=data_user.user.username %}" class="nav-link px-2">Profile</a></li>
            <li><a href="{% url 'about' %}" class="nav-link px-2">About</a></li>
        </ul>
    </div>
{% else %}
    <div class="pt-2 big-screens">
        <ul class="nav">
            <li><a href="{% url 'home' %}" class="nav-link px-2">Home</a></li>
            <li><a href="{% url 'ask' %}" class="nav-link px-2">Ask</a></li>
            <li><a href="{% url 'about' %}" class="nav-link px-2">About</a></li>
        </ul>
    </div>
{% endif %}


<!--Логотип сайта в шапке-->
<div class="col-auto col-sm-2 d-flex justify-content-end central-logo">
    <a href="{% url 'home' %}" class="d-inline-flex link-body-emphasis text-decoration-none">
        <?xml version="1.0" encoding="UTF-8"?>
        <!-- Generated by Pixelmator Pro 2.4.5 -->
        <svg width="116" height="21" viewBox="0 0 116 20" xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink">
            <text id="Gain-Skills" xml:space="preserve" x="0" y="20" font-family="Mona-Sans" font-size="24"
                  fill="#0b0a0a">Gain Skills</text>
        </svg>
    </a>
</div>

<!--Блок с юзерблоком и пользователем-->
<div class="col-auto d-flex flex-wrap justify-content-center align-items-center">

    <form class="mb-0 me-3 search-bar-max" role="search" method="get">
        <input type="search" class="form-control" placeholder="Search..." aria-label="Search" name="search"
                {% if context.get_params.search %}
               value="{{ context.get_params.search }}"
                {% endif %}>
        {% if context.get_params.sorted %}
            <input name="sorted" type="hidden" value="{{ context.get_params.sorted }}">
        {% endif %}
        {% if context.get_params.page %}
            <input name="page" type="hidden" value="{{ context.get_params.page }}">
        {% endif %}
    </form>

    <!--Блок с пользователем, содержащий маленькую аватарку, никнейм и кнопку выхода-->
    {% if data_user.user.is_authenticated %}
        <div class="user-block-header pe-2 pt-2 d-flex flex-wrap justify-content-center align-items-center">
            <img src="{{ data_user.profile.avatar.url }}" alt="{{ data_user.user.username }}' ava"
                 class="col-12 big-screens">
            <a class="col-12 text-center text-decoration-none big-screens"
               href="{% url 'profile' username=data_user.user.username %}">{{ data_user.user.username }}</a>
        </div>
        <button type="button" class="btn btn-primary btn-sign-out ms-md-0 ms-1 big-screens">
            <a href="{% url 'logout' %}" class="user-auth">Sign out</a>
        </button>
    {% else %}
        <button type="button" class="btn btn-outline-primary btn-signin me-2 big-screens">
            <a href="{% url 'auth' %}" class="user-auth-signin">Sign in</a>
        </button>
        <button type="button" class="btn btn-primary btn-signup ms-md-0 ms-1 big-screens">
            <a href="{% url 'reg' %}" class="user-auth">Sign up</a>
        </button>
    {% endif %}
</div>

<a href="#" class="text-decoration-none small-screens" data-bs-toggle="offcanvas"
   data-bs-target="#staticBackdrop" aria-controls="staticBackdrop">
    <img src="{% static 'img/bars-solid.png' %}" alt="bars">
</a>